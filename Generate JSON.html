<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML to JSON Converter</title>
</head>
<body>
    <label for="htmlCode">Paste HTML Code:</label>
    <br>
    <textarea id="htmlCode" rows="10" cols="80"></textarea>
    <br>
    <button onclick="convertToJSON()">Convert to JSON</button>

    <script>
        function convertToJSON() {
            // Get HTML code from the textarea
            const htmlCode = document.getElementById('htmlCode').value;

            // Create a temporary element to parse the HTML
            const tempElement = document.createElement('div');
            tempElement.innerHTML = htmlCode;

            // Extract relevant information
            const torrentName = tempElement.querySelector('h1').innerText.trim();
            const torrentLink = tempElement.querySelector('.button[data-download]').getAttribute('onclick').match(/downloadHTML\('(.+?)'\)/)[1];
            const magnetLink = tempElement.querySelector('.button[data-magnet]').getAttribute('onclick').match(/window\.location\.href='(.+?)'/)[1];
            const iconLink = tempElement.querySelector('img').src;

            // Generate JSON output
            const jsonOutput = {
                [torrentName]: {
                    "Name": torrentName,
                    ".Torrent": torrentLink,
                    "MagnetUrl": magnetLink,
                    "Icon": iconLink,
                    "HasStreamURL": false,
                    "StreamURL": "stream.mp4"
                }
            };

            // Log the JSON output (you can use it as needed)
            console.log(JSON.stringify(jsonOutput, null, 4));
        }
    </script>
</body>
</html>
